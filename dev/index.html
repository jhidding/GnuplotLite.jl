<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction to GnuplotLite.jl · GnuplotLite documentation</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GnuplotLite documentation</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction to GnuplotLite.jl</a><ul class="internal"><li><a class="tocitem" href="#Alternatives"><span>Alternatives</span></a></li><li><a class="tocitem" href="#Tutorial"><span>Tutorial</span></a></li><li><a class="tocitem" href="#Under-the-hood"><span>Under the hood</span></a></li></ul></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction to GnuplotLite.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction to GnuplotLite.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jhidding/GnuplotLite.jl/blob/main/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction-to-GnuplotLite.jl"><a class="docs-heading-anchor" href="#Introduction-to-GnuplotLite.jl">Introduction to GnuplotLite.jl</a><a id="Introduction-to-GnuplotLite.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction-to-GnuplotLite.jl" title="Permalink"></a></h1><p>This module is a Julia wrapper for Gnuplot. This has the following design goals:</p><ul><li>Responsiveness: this should be the thinnest of possible wrappers. The biggest drag to plotting in Julia is the number of lines of code that sit in between the programmer and the plotter.</li><li>Composability: it should be easy to extend <code>GnuplotLite</code>.</li><li>Transparency: it should be easy to reason about how data is entered into Gnuplot.</li></ul><p>That being said, there are so many plotting packages in Julia. When should you use this?</p><ul><li>Use <code>GnuplotLite</code> if you are in love with Gnuplot and want nothing to sit in between you and it.</li></ul><h2 id="Alternatives"><a class="docs-heading-anchor" href="#Alternatives">Alternatives</a><a id="Alternatives-1"></a><a class="docs-heading-anchor-permalink" href="#Alternatives" title="Permalink"></a></h2><p>Plotting in Julia is a notoriously hard problem. Why? A core issue with many plotting packages in Julia is that these packages become too big, and then compiling all the necessary code makes things slow. So the problem is a combination of the one-shot nature of plotting and the complexity of the packages involved.</p><p>A related problem with plotting packages in any language, is that two problems get conflated: data analysis and visualization. This makes for very nice interfaces a la GGPlot (which I find brilliant), however, on the implementation side this needlessly complicates things. The focus on visualizing data-frames has left it very hard to work with grid based data in most modern packages (plotly, ggplot, vegalite, bokeh, you name it).</p><ul><li><code>Plots.jl</code> is a large package that provides a uniform interface over a lot of backends. I have recently tried <code>Plots</code> with the most recommended backends: <code>GR</code>, <code>Plotly</code>, <code>Pyplot</code>, <code>Gaston</code>. The <code>GR</code> backend worked really well, but it was really hard to tweak the output towards publication quality. In other words, plotting was relatively fast but hideous to the limit of being buggy. All the other backends that I tried gave me installation issues.</li><li><code>Gadfly.jl</code> looks very promising, but is very slow to respond with larger data sets.</li><li><code>Gnuplot.jl</code> is a thin wrapper around Gnuplot. My problem with this package is that it focusses heavily on use with a macro <code>@gp</code>. Because of this, code in <code>Gnuplot.jl</code> suffers from a lack of composability. It is also not so straight forward to see exactly how <code>@gp</code> code translates to <code>gnuplot</code> commands when arrays are used.</li><li><code>Gaston.jl</code> is a slightly thicker wrapper around Gnuplot, mirroring Gnuplot syntax in Julia functions. I could not make it work.</li></ul><h2 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h2><p>Start a Gnuplot session by running <code>gnuplot()</code>. Then send it messages using <code>|&gt; send(...)</code>.</p><pre><code class="language-julia hljs">using GnuplotLite

g = gnuplot()
g |&gt; send(&quot;plot sin(x)&quot;)
close(g)</code></pre><p>Note that using <code>gnuplot()</code> this way may leave the actual Gnuplot process dangling. There is <code>do</code>-notation to prevent that:</p><pre><code class="language-julia hljs">gnuplot() do g
    g |&gt; send(&quot;plot sin(x)&quot;)
end</code></pre><p>Messages can be composed:</p><pre><code class="language-julia hljs">using GnuplotLite

setup(output) =
    send(&quot;set term svg background &#39;white&#39;&quot;) *
    send(&quot;set output &#39;$output&#39;&quot;)

gnuplot() do g
    g |&gt; setup(&quot;sine.svg&quot;) |&gt; send(&quot;plot sin(x)&quot;)
end</code></pre><p><img src="sine.svg" alt/></p><p>You may enter data into Gnuplot by sending <code>Pair</code>. This gets translated into an inline data definition.</p><pre><code class="language-julia hljs">settings = &quot;&quot;&quot;
set pm3d lighting primary 0.5 specular 0.3
set pm3d depthorder border lc &#39;black&#39; lw 0.3
set style fill solid 1.00 noborder
set ticslevel 0
unset colorbox
&quot;&quot;&quot;

x = -4:0.15:4
y = x
z = sinc.(sqrt.(x.^2 .+ y&#39;.^2))

plot = setup(&quot;sinc3d.svg&quot;) *
    send(settings) *
    send(&quot;data&quot; =&gt; (x=x, y=y, z=z)) *
    send(&quot;splot \$data nonuniform matrix &quot; *
         &quot;using 1:2:3:(0xffad00) t&#39;saddle&#39; &quot; *
         &quot;with pm3d lc rgb variable&quot;)

gnuplot() |&gt; plot |&gt; close</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Warning: empty cb range [1.6756e+07:1.6756e+07], adjusting to [1.65884e+07:1.69235e+07]</code></pre><p><img src="sinc3d.svg" alt/></p><h2 id="Under-the-hood"><a class="docs-heading-anchor" href="#Under-the-hood">Under the hood</a><a id="Under-the-hood-1"></a><a class="docs-heading-anchor-permalink" href="#Under-the-hood" title="Permalink"></a></h2><p>There are two objects in <code>GnuplotLite</code>: the <code>Gnuplot</code> instance and <code>Msg</code>. The <code>Gnuplot</code> instance contains a channel to which you can send Gnuplot commands. A <code>Msg</code> contains a function of type <code>::Gnuplot -&gt; ::Gnuplot</code> that then actually sends the commands to the channel. By abstracting the messages into a function we can stay efficient while being fully composable. Because of the composability we can easily extend <code>GnuplotLite</code> to interact with data the way <em>you</em> want.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 29 November 2022 17:31">Tuesday 29 November 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
